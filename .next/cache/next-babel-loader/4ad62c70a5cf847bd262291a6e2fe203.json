{"ast":null,"code":"var _jsxFileName = \"/Users/heegupark/Desktop/Workspace/MyProject/omega-math/components/highscore.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Flex, Button, Stack, Box, Input, Collapse } from '@chakra-ui/core';\nexport default function Highscore(props) {\n  const {\n    0: username,\n    1: setUsername\n  } = useState('');\n  const {\n    0: highscores,\n    1: setHighscores\n  } = useState(new Array(10));\n  const {\n    0: show,\n    1: setShow\n  } = useState(true);\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n\n  const handleSave = () => {\n    addHighscore(props.newScore, username, props.mode);\n  };\n\n  useEffect(() => {\n    getHighscores(props.mode);\n  }, []);\n\n  const getHighscores = mode => {\n    fetch(`/api/gethighscores`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        mode\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        setHighscores(data.data);\n        setShow(true);\n      }\n    }).catch(err => {\n      console.error(`Something wrong happened while getting messages:${err.message}`);\n    });\n  };\n\n  const addHighscore = (score, username, mode) => {\n    fetch(`/api/addhighscore`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        score,\n        username,\n        mode\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        setHighscores(data.data);\n        props.setIsNewHighscore(false);\n      }\n    }).catch(err => {\n      console.error(`Something wrong happened while getting messages:${err.message}`);\n    });\n  };\n\n  const convertDate = date => {\n    return `${new Date(date).getMonth() + 1}/${new Date(date).getDate()}/${new Date(date).getFullYear()}`;\n  };\n\n  const handleView = mode => {\n    setShow(false);\n    setHighscores([]);\n    getHighscores(mode); // setShow(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Flex, {\n    width: ['100%'],\n    height: ['100vh'],\n    align: \"center\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, __jsx(Flex // p={10}\n  , {\n    align: \"center\",\n    justify: \"center\",\n    border: \"5px solid gold\",\n    borderRadius: \"10px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, __jsx(Stack, {\n    spacing: 5,\n    height: \"600px\",\n    width: \"400px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(Box, {\n    height: \"35px\",\n    textAlign: \"center\",\n    backgroundColor: \"gold\",\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"Highscore\"), __jsx(Flex, {\n    align: \"center\",\n    justify: \"space-between\",\n    direction: \"row\",\n    p: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, __jsx(Box, {\n    width: \"75px\",\n    textAlign: \"center\",\n    onClick: () => handleView('add'),\n    cursor: \"pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"add\"), __jsx(Box, {\n    width: \"75px\",\n    textAlign: \"center\",\n    onClick: () => handleView('subtract'),\n    cursor: \"pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, \"subtract\"), __jsx(Box, {\n    width: \"75px\",\n    textAlign: \"center\",\n    onClick: () => handleView('multiply'),\n    cursor: \"pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"multiply\"), __jsx(Box, {\n    width: \"75px\",\n    textAlign: \"center\",\n    onClick: () => handleView('divide'),\n    cursor: \"pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, \"divide\")), __jsx(Box, {\n    height: \"485px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, __jsx(Flex, {\n    align: \"center\",\n    justify: \"space-evenly\",\n    direction: \"row\",\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, __jsx(Box, {\n    width: \"75px\",\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"score\"), __jsx(Box, {\n    width: \"120px\",\n    textAlign: \"center\",\n    mx: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"username\"), __jsx(Box, {\n    width: \"150px\",\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, \"date\")), __jsx(Collapse, {\n    mt: 4,\n    isOpen: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, props.isNewHighscore && __jsx(Flex, {\n    align: \"center\",\n    justify: \"space-evenly\",\n    direction: \"row\",\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, __jsx(Box, {\n    width: \"75px\",\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, props.newScore), __jsx(Input, {\n    autoFocus: true,\n    width: \"120px\",\n    variant: \"unstyled\",\n    textAlign: \"center\",\n    mx: 5,\n    maxLength: 8,\n    borderBottom: \"1px solid white\",\n    value: username,\n    onKeyDown: e => {\n      if (e.key === 'Enter' && e.target.value.trim().length > 0) {\n        handleSave();\n      }\n    },\n    onChange: e => setUsername(e.target.value.trim()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }), __jsx(Box, {\n    width: \"150px\",\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, convertDate(new Date()))), highscores.length > 0 ? highscores.map((highscore, index) => {\n    if (props.isNewHighScore && index > 9) return;\n    return __jsx(Flex, {\n      key: highscore._id,\n      align: \"center\",\n      justify: \"space-evenly\",\n      direction: \"row\",\n      p: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, __jsx(Box, {\n      width: \"75px\",\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 27\n      }\n    }, highscore.score), __jsx(Box, {\n      mx: 5,\n      width: \"120px\",\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 27\n      }\n    }, highscore.username), __jsx(Box, {\n      width: \"150px\",\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 27\n      }\n    }, convertDate(highscore.createdAt)));\n  }) : !props.isNewHighscore && __jsx(Flex, {\n    align: \"center\",\n    justify: \"center\",\n    direction: \"column\",\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, __jsx(Box, {\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 25\n    }\n  }, message)))), __jsx(Flex, {\n    align: \"center\",\n    justify: \"space-evenly\",\n    direction: \"row\",\n    backgroundColor: \"gold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, props.isNewHighscore && __jsx(Button, {\n    onClick: () => handleSave(),\n    variant: \"ghost\",\n    color: \"black\",\n    _hover: {\n      border: 'none',\n      color: 'grey'\n    },\n    _focus: {\n      outline: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, \"Save\"), __jsx(Button, {\n    onClick: () => {\n      props.setIsNewHighscore(false);\n      props.setView('home');\n    },\n    variant: \"ghost\",\n    color: \"black\",\n    _hover: {\n      border: 'none',\n      color: 'grey'\n    },\n    _focus: {\n      outline: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, \"Cancel\"))))));\n}","map":{"version":3,"sources":["/Users/heegupark/Desktop/Workspace/MyProject/omega-math/components/highscore.tsx"],"names":["React","useState","useEffect","Flex","Button","Stack","Box","Input","Collapse","Highscore","props","username","setUsername","highscores","setHighscores","Array","show","setShow","message","setMessage","handleSave","addHighscore","newScore","mode","getHighscores","fetch","method","headers","body","JSON","stringify","then","res","json","data","success","catch","err","console","error","score","setIsNewHighscore","convertDate","date","Date","getMonth","getDate","getFullYear","handleView","isNewHighscore","e","key","target","value","trim","length","map","highscore","index","isNewHighScore","_id","createdAt","border","color","outline","setView"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Flex,\n  Button,\n  Stack,\n  Box,\n  Input,\n  Collapse,\n  Divider,\n} from '@chakra-ui/core';\n\nexport default function Highscore(props: any) {\n  const [username, setUsername] = useState('');\n  const [highscores, setHighscores] = useState(new Array(10));\n  const [show, setShow] = useState(true);\n  const [message, setMessage] = useState('');\n\n  const handleSave = () => {\n    addHighscore(props.newScore, username, props.mode);\n  };\n\n  useEffect(() => {\n    getHighscores(props.mode);\n  }, []);\n\n  const getHighscores = (mode: String) => {\n    fetch(`/api/gethighscores`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        mode,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data: any) => {\n        if (data.success) {\n          setHighscores(data.data);\n          setShow(true);\n        }\n      })\n      .catch((err) => {\n        console.error(\n          `Something wrong happened while getting messages:${err.message}`\n        );\n      });\n  };\n\n  const addHighscore = (score: Number, username: String, mode: String) => {\n    fetch(`/api/addhighscore`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        score,\n        username,\n        mode,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data: any) => {\n        if (data.success) {\n          setHighscores(data.data);\n          props.setIsNewHighscore(false);\n        }\n      })\n      .catch((err) => {\n        console.error(\n          `Something wrong happened while getting messages:${err.message}`\n        );\n      });\n  };\n\n  const convertDate = (date: Date) => {\n    return `${new Date(date).getMonth() + 1}/${new Date(\n      date\n    ).getDate()}/${new Date(date).getFullYear()}`;\n  };\n\n  const handleView = (mode: String) => {\n    setShow(false);\n    setHighscores([]);\n    getHighscores(mode);\n    // setShow(false);\n  };\n\n  return (\n    <>\n      <Flex width={['100%']} height={['100vh']} align=\"center\" justify=\"center\">\n        <Flex\n          // p={10}\n          align=\"center\"\n          justify=\"center\"\n          border=\"5px solid gold\"\n          borderRadius=\"10px\"\n        >\n          <Stack spacing={5} height=\"600px\" width=\"400px\">\n            <Box\n              height=\"35px\"\n              textAlign=\"center\"\n              backgroundColor=\"gold\"\n              color=\"black\"\n            >\n              Highscore\n            </Box>\n            <Flex align=\"center\" justify=\"space-between\" direction=\"row\" p={1}>\n              <Box\n                width=\"75px\"\n                textAlign=\"center\"\n                onClick={() => handleView('add')}\n                cursor=\"pointer\"\n              >\n                add\n              </Box>\n              <Box\n                width=\"75px\"\n                textAlign=\"center\"\n                onClick={() => handleView('subtract')}\n                cursor=\"pointer\"\n              >\n                subtract\n              </Box>\n              <Box\n                width=\"75px\"\n                textAlign=\"center\"\n                onClick={() => handleView('multiply')}\n                cursor=\"pointer\"\n              >\n                multiply\n              </Box>\n              <Box\n                width=\"75px\"\n                textAlign=\"center\"\n                onClick={() => handleView('divide')}\n                cursor=\"pointer\"\n              >\n                divide\n              </Box>\n            </Flex>\n            <Box height=\"485px\">\n              <Flex align=\"center\" justify=\"space-evenly\" direction=\"row\" p={2}>\n                <Box width=\"75px\" textAlign=\"center\">\n                  score\n                </Box>\n                <Box width=\"120px\" textAlign=\"center\" mx={5}>\n                  username\n                </Box>\n                <Box width=\"150px\" textAlign=\"center\">\n                  date\n                </Box>\n              </Flex>\n              <Collapse mt={4} isOpen={show}>\n                {props.isNewHighscore && (\n                  <Flex\n                    align=\"center\"\n                    justify=\"space-evenly\"\n                    direction=\"row\"\n                    p={2}\n                  >\n                    <Box width=\"75px\" textAlign=\"center\">\n                      {props.newScore}\n                    </Box>\n                    <Input\n                      autoFocus\n                      width=\"120px\"\n                      variant=\"unstyled\"\n                      textAlign=\"center\"\n                      mx={5}\n                      maxLength={8}\n                      borderBottom=\"1px solid white\"\n                      value={username}\n                      onKeyDown={(e: any) => {\n                        if (\n                          e.key === 'Enter' &&\n                          e.target.value.trim().length > 0\n                        ) {\n                          handleSave();\n                        }\n                      }}\n                      onChange={(e: any) => setUsername(e.target.value.trim())}\n                    />\n                    <Box width=\"150px\" textAlign=\"center\">\n                      {convertDate(new Date())}\n                    </Box>\n                  </Flex>\n                )}\n                {highscores.length > 0\n                  ? highscores.map((highscore: any, index: Number) => {\n                      if (props.isNewHighScore && index > 9) return;\n                      return (\n                        <Flex\n                          key={highscore._id}\n                          align=\"center\"\n                          justify=\"space-evenly\"\n                          direction=\"row\"\n                          p={2}\n                        >\n                          <Box width=\"75px\" textAlign=\"center\">\n                            {highscore.score}\n                          </Box>\n                          <Box mx={5} width=\"120px\" textAlign=\"center\">\n                            {highscore.username}\n                          </Box>\n                          <Box width=\"150px\" textAlign=\"center\">\n                            {convertDate(highscore.createdAt)}\n                          </Box>\n                        </Flex>\n                      );\n                    })\n                  : !props.isNewHighscore && (\n                      <Flex\n                        align=\"center\"\n                        justify=\"center\"\n                        direction=\"column\"\n                        p={2}\n                      >\n                        <Box textAlign=\"center\">{message}</Box>\n                      </Flex>\n                    )}\n              </Collapse>\n            </Box>\n            <Flex\n              align=\"center\"\n              justify=\"space-evenly\"\n              direction=\"row\"\n              backgroundColor=\"gold\"\n            >\n              {props.isNewHighscore && (\n                <Button\n                  onClick={() => handleSave()}\n                  variant=\"ghost\"\n                  color=\"black\"\n                  _hover={{ border: 'none', color: 'grey' }}\n                  _focus={{ outline: 'none' }}\n                >\n                  Save\n                </Button>\n              )}\n              <Button\n                onClick={() => {\n                  props.setIsNewHighscore(false);\n                  props.setView('home');\n                }}\n                variant=\"ghost\"\n                color=\"black\"\n                _hover={{ border: 'none', color: 'grey' }}\n                _focus={{ outline: 'none' }}\n              >\n                Cancel\n              </Button>\n            </Flex>\n          </Stack>\n        </Flex>\n      </Flex>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}